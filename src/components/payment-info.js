import React, { useState } from 'react';
import styled from 'styled-components';
import {
    Elements,
    useStripe,
    useElements,
    CardNumberElement,
    CardCvcElement,
    CardExpiryElement
} from "@stripe/react-stripe-js";
import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';
import { faCircleNotch } from '@fortawesome/free-solid-svg-icons';
import CryptoForm from './crypto-form';

const Container = styled.div`
    width: 100%;
    max-width: 768px;
    margin: auto;

    p {
        font-style: italic;
        color: black;
        border-bottom: 1px solid hsla(0,0%,0%,0.2);
        margin: 30px 0px;
        padding-bottom: 30px;
    }

    label, input, .stripeInput {
        width: 100%;
    }

    label {
        margin: 5px;
    }

    input, .stripeInput {
        font-size: 16px;
        border: 1px solid #C1C1C1;
        border-radius: 0.25rem;
        padding: 5px 12px;
        background-color: white;
    }

    .error {
        color: red;
        font-size: 0.7em;
    }

    .stripeInput {
        padding: 7.4px 12px;
    }

    .expiration-align {
        display: flex;
        justify-content: space-between;
        width: 50%;
    }

    .buttonDiv {
        display: flex;
        justify-content: space-between;
        border-top: 1px solid hsla(0,0%,0%,0.2);
        margin-top: 30px;
        padding-top: 30px;
    }

    .buttonNext, .buttonBack {
        font-size: 1em;
        font-weight: 500;
        padding: 3px 30px;
        border-radius: 4px;
        margin: 5px;
        cursor: pointer;
        -webkit-transition: 0.25s;
        -moz-transition: 0.25s;
        -o-transition: 0.25s;
        transition: 0.25s;
    }

    .buttonNext {
        border: 0;
        background-color: #FD6927;
        color: white;
        width: 14em;
        -webkit-transition: 0.25s;
        -moz-transition: 0.25s;
        -o-transition: 0.25s;
        transition: 0.25s;
    }

    .buttonNext:disabled {
        background-color: white;
        color: #626262;
    }

    .buttonNext:active, .buttonNext:hover {
        background-color: #E55616;
    }

    .buttonBack {
        border: solid 2px #626262;
        background-color: white;
        color: #626262;
    }

    .buttonBack:hover {
        background-color: #626262;
        color: white;
    }

    .buttonCvc {
        background-color: transparent;
        border: 1px solid gray;
        border-radius: 2rem;
        margin-bottom: 0px;
        padding: 0px 6px;
        height: 20px;
        font-size: 11px;
        color: #626262;
        position: relative;
    }

    .buttonCvc:hover, .buttonCvc:active {
        background-color: #707070;
        color: white;
        border-color: #707070;
    }

    .cvcInfo {
        position: absolute;
        top: -200px;
        font-size: 14px;
        color: #626262;
        width: 300px;
        padding: 20px;
        margin-left: -280px;
        background-color: white;
        box-shadow: 5px 5px 13px rgba(0,0,0,0.25);
        border-radius: 4px;
        text-align: left;
    }

    .cvcInfoArrow {
        height: 1px;
        width: 1px;
        border-top: 10px solid white;
        border-left: 8px solid transparent;
        border-right: 8px solid transparent;
        position: absolute;
        bottom: -10px;
        right: 9px;
        box-shadow: 9px 2px 0px -5px rgba(0, 0, 0, 0.25);
    }

    .form-align {
        display: flex;
        justify-content: space-between;
        width: 100%;
    }

    @media only screen and (max-width: 769px) {
        .form-align {
            display: block;
        }
        .buttonCvc {
            top: 32px;
            right: 7px;
            z-index: 1;
        }
        label {
            margin: 0;
        }
    }

    @media only screen and (min-width: 481px) {
        .form-align-last {
            display: flex;
            justify-content: space-between;
            width: 100%;
        }
    }
`

const stripeStyle = {
    style: {
        base: {
            fontSize: '16px',
            fontFamily: 'Rubik, Roboto, Sans-Serif'
        },
        invalid: {

        }
    }
}

const elementOptions = {
    fonts: [
        {
            cssSrc: 'https://fonts.googleapis.com/css2?family=Roboto&family=Rubik'
        }
    ]
}

const PaymentForm = (props) => {
    const [billingInfo, changeInfo] = useState({
        fullName: '',
        emailAddress: '',
        address: '',
        mailCode: '',
        hintState: 'none',
        isLoading: false
    })

    const [error, setError] = useState(null);

    const stripe = useStripe();
    const elements = useElements();

    const handleSubmit = async event => {
        event.preventDefault();

        const addressArray = billingInfo.address.split(",");

        if (!stripe || !elements) {
            // Stripe.js has not loaded yet. Make sure to disable
            // form submission until Stripe.js has loaded.
            return;
        }

        // Do not submit if missing valid name. Allows apostrophes and hyphens
        if (!(/^[a-zA-Z-' ]+$/).test(billingInfo.fullName)) {
            setError("Invalid Name. ");
            return;
        }

        // Do not submit if value does not match a valid email format
        if (!(/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(billingInfo.emailAddress))) {
            setError("Invalid Email address. ");
            return;
        }

        if (addressArray[1] === undefined) {
            setError("Missing street or city in address. Please separate the street address and city name with a comma. ");
            return;
        } else if (addressArray[0].trim() === '' || addressArray[1].trim() === '') {
            setError("Street address or city name is empty. ")
        }

        if (billingInfo.mailCode.trim() === '') {
            setError("No postal code entered.");
            return;
        }

        changeInfo({ ...billingInfo, isLoading: true })

        // Send billing info to Stripe and return a card info object
        const payload = await stripe.createPaymentMethod({
            billing_details: {
                name: billingInfo.fullName,
                email: billingInfo.emailAddress,
                address: {
                    line1: addressArray[0].trim(),
                    city: addressArray[1].trim(),
                    postal_code: billingInfo.mailCode
                }
            },
            type: "card",
            card: elements.getElement(CardNumberElement)
        });
        changeInfo({ ...billingInfo, isLoading: false })
        props.handleCardInfo(payload)
    };

    // Saves customer name and email to state
    const handleInputChange = (event) => {
        event.preventDefault();
        const currTarget = event.target.name;
        changeInfo({
            ...billingInfo,
            fullName: currTarget === 'fullName' ? event.target.value : billingInfo.fullName,
            emailAddress: currTarget === 'email' ? event.target.value : billingInfo.emailAddress,
            address: currTarget === 'address' ? event.target.value : billingInfo.address,
            mailCode: currTarget === 'mailCode' ? event.target.value : billingInfo.mailCode
        })
    }

    // Client side function to validate card number, expiry date, and ccv.
    // Card number error handling uses the Luhn Algorithm for validation
    const handleStripeChange = (event) => {
        if (event.error) {
            setError(event.error.message);
        } else {
            setError(null);
        }
    }

    const handleCvcHint = () => {
        if (billingInfo.hintState === "none") {
            changeInfo({
                ...billingInfo,
                hintState: 'block'
            })
        } else {
            changeInfo({
                ...billingInfo,
                hintState: 'none'
            })
        }
    }

    return (
        <Container>
            <p>
                Please provide your payment information below.
            </p>
            <form style={props.progress === 2 ? { display: 'block' } : { display: 'none' }} onSubmit={handleSubmit}>
                <div className="form-align">
                    <label htmlFor="fullNameInput">Full Name as it appears on Card
                    <input onChange={handleInputChange} id="fullNameInput" name='fullName' />
                    </label>
                    <label htmlFor="emailInput">Email Address
                    <input onChange={handleInputChange} id="emailInput" type="email" name='email' />
                    </label>
                </div>

                <div className="form-align">
                    <label htmlFor="addressInput">Address (Building/Street, City)
                    <input onChange={handleInputChange} id="addressInput" name='address' />
                    </label>
                    <label htmlFor="mailCodeInput">Postal/Zip Code
                    <input onChange={handleInputChange} id="mailCodeInput" name='mailCode' />
                    </label>
                </div>

                <div className="form-align">
                    <label htmlFor="cardNumInput" style={{ width: 'calc(100% - 20px)' }}>
                        Card number
                        <CardNumberElement
                            className="stripeInput"
                            options={stripeStyle}
                            onChange={handleStripeChange}
                            id="cardNumInput"
                        />
                    </label>
                    <div className="form-align-last">
                        <label htmlFor="expiryInput">
                            Expiry
                        <CardExpiryElement
                                className="stripeInput"
                                options={stripeStyle}
                                onChange={handleStripeChange}
                                id="expiryInput"
                            />
                        </label>
                        <label htmlFor="cvcInput" style={{display: "flex", justifyContent: "space-between", flexWrap: "wrap"}}>
                            CVC <button className="buttonCvc" onClick={handleCvcHint}>
                                <div className="cvcInfo" style={{display: billingInfo.hintState}}>
                                    The 3 or 4 digits on the back or front of your card.
                                    <div style={{paddingTop: "20px"}}>
                                        <CardBackSvg /> <CardFrontSvg />
                                    </div>
                                    <div className="cvcInfoArrow"></div>
                                </div>
                                ?
                                </button>
                            <CardCvcElement
                                className="stripeInput"
                                options={stripeStyle}
                                onChange={handleStripeChange}
                                id="cvcInput"
                            />
                        </label>
                    </div>
                </div>
                <div className="error">
                    {error !== null ? `${error} Please ensure all information is filled and valid.` : ''}
                </div>
                <div className="buttonDiv">
                    <button className="buttonBack" onClick={props.reverseForm}>Back</button>
                    <button className="buttonNext" type="submit" disabled={!stripe}>{billingInfo.isLoading ? <FontAwesomeIcon className="spinnerAnim" icon={faCircleNotch} /> : 'Review and Confirm'}</button>
                </div>
            </form>
        </Container>
    )
}

const CardBackSvg = () => {
    return (
        <svg width="127" height="78" viewBox="0 0 127 78" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g filter="url(#filter0_d)">
                <rect x="1" width="125" height="75" rx="4" fill="#ABD285" />
            </g>
            <rect x="1" y="13" width="125" height="16" fill="#626262" />
            <rect x="11" y="48" width="77" height="10" fill="white" />
            <path d="M101.76 57C101.693 57 101.637 56.98 101.59 56.94C101.55 56.8933 101.53 56.8367 101.53 56.77V51.17L99.87 52.45C99.8233 52.49 99.7733 52.51 99.72 52.51C99.66 52.51 99.6033 52.4767 99.55 52.41L99.29 52.08C99.2567 52.0333 99.24 51.9867 99.24 51.94C99.24 51.86 99.2733 51.7967 99.34 51.75L101.52 50.07C101.593 50.0233 101.68 50 101.78 50H102.29C102.357 50 102.41 50.0233 102.45 50.07C102.497 50.11 102.52 50.1633 102.52 50.23V56.77C102.52 56.8367 102.497 56.8933 102.45 56.94C102.41 56.98 102.357 57 102.29 57H101.76ZM103.997 57C103.931 57 103.874 56.98 103.827 56.94C103.787 56.8933 103.767 56.8367 103.767 56.77V56.45C103.767 56.2967 103.851 56.15 104.017 56.01L106.137 53.89C106.651 53.4633 107.004 53.1167 107.197 52.85C107.391 52.5767 107.487 52.29 107.487 51.99C107.487 51.6033 107.377 51.3 107.157 51.08C106.944 50.86 106.631 50.75 106.217 50.75C105.831 50.75 105.521 50.8667 105.287 51.1C105.054 51.3267 104.911 51.63 104.857 52.01C104.844 52.09 104.811 52.15 104.757 52.19C104.711 52.2233 104.657 52.24 104.597 52.24H104.077C104.017 52.24 103.967 52.2233 103.927 52.19C103.887 52.15 103.867 52.1033 103.867 52.05C103.881 51.69 103.977 51.3467 104.157 51.02C104.337 50.6867 104.601 50.4167 104.947 50.21C105.301 49.9967 105.724 49.89 106.217 49.89C106.971 49.89 107.537 50.0867 107.917 50.48C108.304 50.8667 108.497 51.36 108.497 51.96C108.497 52.38 108.391 52.76 108.177 53.1C107.971 53.4333 107.647 53.7933 107.207 54.18L105.287 56.13H108.407C108.481 56.13 108.537 56.1533 108.577 56.2C108.624 56.24 108.647 56.2933 108.647 56.36V56.77C108.647 56.8367 108.624 56.8933 108.577 56.94C108.531 56.98 108.474 57 108.407 57H103.997ZM112.126 57.1C111.6 57.1 111.143 57.0167 110.756 56.85C110.376 56.6767 110.086 56.4533 109.886 56.18C109.693 55.9067 109.59 55.62 109.576 55.32C109.576 55.26 109.596 55.2133 109.636 55.18C109.676 55.14 109.726 55.12 109.786 55.12H110.276C110.416 55.12 110.51 55.1933 110.556 55.34C110.643 55.6733 110.83 55.91 111.116 56.05C111.403 56.1833 111.74 56.25 112.126 56.25C112.6 56.25 112.976 56.14 113.256 55.92C113.536 55.6933 113.676 55.37 113.676 54.95C113.676 54.1433 113.186 53.74 112.206 53.74H111.256C111.19 53.74 111.133 53.72 111.086 53.68C111.046 53.6333 111.026 53.5767 111.026 53.51V53.24C111.026 53.1467 111.063 53.0567 111.136 52.97L113.076 50.85H110.126C110.06 50.85 110.003 50.83 109.956 50.79C109.916 50.7433 109.896 50.6867 109.896 50.62V50.24C109.896 50.1733 109.916 50.1167 109.956 50.07C110.003 50.0233 110.06 50 110.126 50H114.116C114.19 50 114.246 50.0233 114.286 50.07C114.333 50.11 114.356 50.1667 114.356 50.24V50.6C114.356 50.68 114.32 50.7567 114.246 50.83L112.316 52.98L112.476 52.99C113.156 53.01 113.693 53.1867 114.086 53.52C114.48 53.8533 114.676 54.34 114.676 54.98C114.676 55.4133 114.566 55.79 114.346 56.11C114.126 56.43 113.823 56.6767 113.436 56.85C113.05 57.0167 112.613 57.1 112.126 57.1Z" fill="black" />
            <rect x="93.5" y="44.5" width="28" height="17" stroke="#FF4F48" />
            <defs>
                <filter id="filter0_d" x="0" y="0" width="127" height="78" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                    <feFlood flood-opacity="0" result="BackgroundImageFix" />
                    <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" />
                    <feOffset dy="2" />
                    <feGaussianBlur stdDeviation="0.5" />
                    <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.5 0" />
                    <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow" />
                    <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape" />
                </filter>
            </defs>
        </svg>

    )
}

const CardFrontSvg = () => {
    return (
        <svg width="127" height="78" viewBox="0 0 127 78" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g filter="url(#filter0_d)">
                <rect x="1" width="125" height="75" rx="4" fill="#ABD285" />
            </g>
            <path d="M12.3 24C12.2467 24 12.1967 23.98 12.15 23.94C12.11 23.8933 12.09 23.8433 12.09 23.79C12.09 23.75 12.0933 23.72 12.1 23.7L14.45 17.28C14.47 17.2 14.5133 17.1333 14.58 17.08C14.6467 17.0267 14.7333 17 14.84 17H16.32C16.4267 17 16.5133 17.0267 16.58 17.08C16.6467 17.1333 16.69 17.2 16.71 17.28L19.05 23.7L19.07 23.79C19.07 23.8433 19.0467 23.8933 19 23.94C18.96 23.98 18.91 24 18.85 24H17.62C17.46 24 17.3533 23.93 17.3 23.79L16.91 22.77H14.24L13.86 23.79C13.8067 23.93 13.6967 24 13.53 24H12.3ZM16.51 21.33L15.58 18.69L14.65 21.33H16.51ZM20.1082 24C20.0415 24 19.9815 23.9767 19.9282 23.93C19.8815 23.8767 19.8582 23.8167 19.8582 23.75V17.25C19.8582 17.1767 19.8815 17.1167 19.9282 17.07C19.9815 17.0233 20.0415 17 20.1082 17H21.1882C21.3482 17 21.4649 17.0733 21.5382 17.22L23.2982 20.37L25.0582 17.22C25.1315 17.0733 25.2482 17 25.4082 17H26.4782C26.5515 17 26.6115 17.0233 26.6582 17.07C26.7115 17.1167 26.7382 17.1767 26.7382 17.25V23.75C26.7382 23.8233 26.7115 23.8833 26.6582 23.93C26.6115 23.9767 26.5515 24 26.4782 24H25.2882C25.2149 24 25.1515 23.9767 25.0982 23.93C25.0515 23.8833 25.0282 23.8233 25.0282 23.75V20L23.9082 22.09C23.8215 22.2433 23.7049 22.32 23.5582 22.32H23.0382C22.9515 22.32 22.8815 22.3 22.8282 22.26C22.7749 22.22 22.7282 22.1633 22.6882 22.09L21.5582 20V23.75C21.5582 23.8167 21.5349 23.8767 21.4882 23.93C21.4415 23.9767 21.3815 24 21.3082 24H20.1082ZM28.3895 24C28.3228 24 28.2628 23.9767 28.2095 23.93C28.1628 23.8767 28.1395 23.8167 28.1395 23.75V17.25C28.1395 17.1767 28.1628 17.1167 28.2095 17.07C28.2628 17.0233 28.3228 17 28.3895 17H33.0595C33.1328 17 33.1928 17.0233 33.2395 17.07C33.2861 17.1167 33.3095 17.1767 33.3095 17.25V18.19C33.3095 18.2567 33.2861 18.3167 33.2395 18.37C33.1928 18.4167 33.1328 18.44 33.0595 18.44H29.8695V19.79H32.8395C32.9128 19.79 32.9728 19.8167 33.0195 19.87C33.0661 19.9167 33.0895 19.9767 33.0895 20.05V20.92C33.0895 20.9867 33.0661 21.0467 33.0195 21.1C32.9728 21.1467 32.9128 21.17 32.8395 21.17H29.8695V22.56H33.1395C33.2128 22.56 33.2728 22.5833 33.3195 22.63C33.3661 22.6767 33.3895 22.7367 33.3895 22.81V23.75C33.3895 23.8167 33.3661 23.8767 33.3195 23.93C33.2728 23.9767 33.2128 24 33.1395 24H28.3895ZM34.7762 24C34.7095 24 34.6495 23.9767 34.5962 23.93C34.5495 23.8767 34.5262 23.8167 34.5262 23.75V17.25C34.5262 17.1767 34.5495 17.1167 34.5962 17.07C34.6495 17.0233 34.7095 17 34.7762 17H37.4962C38.3695 17 39.0495 17.2 39.5362 17.6C40.0295 17.9933 40.2762 18.5533 40.2762 19.28C40.2762 19.7467 40.1662 20.1433 39.9462 20.47C39.7262 20.7967 39.4228 21.0467 39.0362 21.22L40.4062 23.68C40.4262 23.72 40.4362 23.7567 40.4362 23.79C40.4362 23.8433 40.4128 23.8933 40.3662 23.94C40.3262 23.98 40.2795 24 40.2262 24H38.8962C38.7028 24 38.5662 23.91 38.4862 23.73L37.3462 21.53H36.3262V23.75C36.3262 23.8233 36.2995 23.8833 36.2462 23.93C36.1995 23.9767 36.1395 24 36.0662 24H34.7762ZM37.4762 20.11C37.7828 20.11 38.0162 20.0367 38.1762 19.89C38.3362 19.7367 38.4162 19.5267 38.4162 19.26C38.4162 18.9933 38.3362 18.7833 38.1762 18.63C38.0228 18.47 37.7895 18.39 37.4762 18.39H36.3262V20.11H37.4762ZM41.6902 24C41.6236 24 41.5636 23.9767 41.5102 23.93C41.4636 23.8767 41.4402 23.8167 41.4402 23.75V17.25C41.4402 17.1767 41.4636 17.1167 41.5102 17.07C41.5636 17.0233 41.6236 17 41.6902 17H43.0302C43.1036 17 43.1636 17.0233 43.2102 17.07C43.2636 17.1167 43.2902 17.1767 43.2902 17.25V23.75C43.2902 23.8233 43.2636 23.8833 43.2102 23.93C43.1636 23.9767 43.1036 24 43.0302 24H41.6902ZM47.5524 24.1C46.5991 24.1 45.8524 23.87 45.3124 23.41C44.7791 22.9433 44.4958 22.27 44.4624 21.39C44.4558 21.21 44.4524 20.9167 44.4524 20.51C44.4524 20.0967 44.4558 19.7967 44.4624 19.61C44.4958 18.7433 44.7858 18.0767 45.3324 17.61C45.8791 17.1367 46.6191 16.9 47.5524 16.9C48.1391 16.9 48.6658 17 49.1324 17.2C49.5991 17.3933 49.9658 17.6733 50.2324 18.04C50.5058 18.4 50.6458 18.8233 50.6524 19.31V19.33C50.6524 19.3833 50.6291 19.43 50.5824 19.47C50.5424 19.5033 50.4958 19.52 50.4424 19.52H49.0924C49.0058 19.52 48.9391 19.5033 48.8924 19.47C48.8458 19.43 48.8058 19.36 48.7724 19.26C48.6791 18.92 48.5324 18.6833 48.3324 18.55C48.1324 18.41 47.8691 18.34 47.5424 18.34C46.7558 18.34 46.3491 18.78 46.3224 19.66C46.3158 19.84 46.3124 20.1167 46.3124 20.49C46.3124 20.8633 46.3158 21.1467 46.3224 21.34C46.3491 22.22 46.7558 22.66 47.5424 22.66C47.8691 22.66 48.1358 22.59 48.3424 22.45C48.5491 22.3033 48.6924 22.0667 48.7724 21.74C48.7991 21.64 48.8358 21.5733 48.8824 21.54C48.9291 21.5 48.9991 21.48 49.0924 21.48H50.4424C50.5024 21.48 50.5524 21.5 50.5924 21.54C50.6391 21.58 50.6591 21.63 50.6524 21.69C50.6458 22.1767 50.5058 22.6033 50.2324 22.97C49.9658 23.33 49.5991 23.61 49.1324 23.81C48.6658 24.0033 48.1391 24.1 47.5524 24.1ZM51.216 24C51.1627 24 51.1127 23.98 51.066 23.94C51.026 23.8933 51.006 23.8433 51.006 23.79C51.006 23.75 51.0093 23.72 51.016 23.7L53.366 17.28C53.386 17.2 53.4293 17.1333 53.496 17.08C53.5627 17.0267 53.6493 17 53.756 17H55.236C55.3427 17 55.4293 17.0267 55.496 17.08C55.5627 17.1333 55.606 17.2 55.626 17.28L57.966 23.7L57.986 23.79C57.986 23.8433 57.9627 23.8933 57.916 23.94C57.876 23.98 57.826 24 57.766 24H56.536C56.376 24 56.2693 23.93 56.216 23.79L55.826 22.77H53.156L52.776 23.79C52.7227 23.93 52.6127 24 52.446 24H51.216ZM55.426 21.33L54.496 18.69L53.566 21.33H55.426ZM59.0242 24C58.9576 24 58.8976 23.9767 58.8442 23.93C58.7976 23.8767 58.7742 23.8167 58.7742 23.75V17.25C58.7742 17.1767 58.7976 17.1167 58.8442 17.07C58.8976 17.0233 58.9576 17 59.0242 17H60.0842C60.2509 17 60.3642 17.0633 60.4242 17.19L62.8642 21.03V17.25C62.8642 17.1767 62.8876 17.1167 62.9342 17.07C62.9876 17.0233 63.0476 17 63.1142 17H64.3142C64.3876 17 64.4476 17.0233 64.4942 17.07C64.5409 17.1167 64.5642 17.1767 64.5642 17.25V23.74C64.5642 23.8133 64.5409 23.8767 64.4942 23.93C64.4476 23.9767 64.3876 24 64.3142 24H63.2442C63.0976 24 62.9876 23.9367 62.9142 23.81L60.4742 20.11V23.75C60.4742 23.8167 60.4509 23.8767 60.4042 23.93C60.3576 23.9767 60.2976 24 60.2242 24H59.0242ZM68.3406 24C68.274 24 68.214 23.9767 68.1606 23.93C68.114 23.8767 68.0906 23.8167 68.0906 23.75V17.25C68.0906 17.1767 68.114 17.1167 68.1606 17.07C68.214 17.0233 68.274 17 68.3406 17H73.0106C73.084 17 73.144 17.0233 73.1906 17.07C73.2373 17.1167 73.2606 17.1767 73.2606 17.25V18.19C73.2606 18.2567 73.2373 18.3167 73.1906 18.37C73.144 18.4167 73.084 18.44 73.0106 18.44H69.8206V19.79H72.7906C72.864 19.79 72.924 19.8167 72.9706 19.87C73.0173 19.9167 73.0406 19.9767 73.0406 20.05V20.92C73.0406 20.9867 73.0173 21.0467 72.9706 21.1C72.924 21.1467 72.864 21.17 72.7906 21.17H69.8206V22.56H73.0906C73.164 22.56 73.224 22.5833 73.2706 22.63C73.3173 22.6767 73.3406 22.7367 73.3406 22.81V23.75C73.3406 23.8167 73.3173 23.8767 73.2706 23.93C73.224 23.9767 73.164 24 73.0906 24H68.3406ZM74.1073 24C74.0473 24 73.994 23.98 73.9473 23.94C73.9073 23.8933 73.8873 23.8433 73.8873 23.79C73.8873 23.7433 73.9007 23.7033 73.9273 23.67L76.1073 20.43L74.0873 17.33C74.0673 17.29 74.0573 17.25 74.0573 17.21C74.0573 17.1567 74.0773 17.11 74.1173 17.07C74.1573 17.0233 74.2073 17 74.2673 17H75.7173C75.7973 17 75.864 17.02 75.9173 17.06C75.9707 17.1 76.0207 17.15 76.0673 17.21L77.2573 19.02L78.4673 17.21C78.554 17.07 78.6707 17 78.8173 17H80.1973C80.2507 17 80.2973 17.0233 80.3373 17.07C80.384 17.11 80.4073 17.1567 80.4073 17.21C80.4073 17.2567 80.394 17.2967 80.3673 17.33L78.3373 20.42L80.5373 23.67C80.5573 23.6967 80.5673 23.7367 80.5673 23.79C80.5673 23.8433 80.5473 23.8933 80.5073 23.94C80.4673 23.98 80.4173 24 80.3573 24H78.8673C78.7273 24 78.6107 23.9333 78.5173 23.8L77.1973 21.88L75.8873 23.8C75.814 23.9333 75.7007 24 75.5473 24H74.1073ZM81.6316 24C81.565 24 81.505 23.9767 81.4516 23.93C81.405 23.8767 81.3816 23.8167 81.3816 23.75V17.25C81.3816 17.1767 81.405 17.1167 81.4516 17.07C81.505 17.0233 81.565 17 81.6316 17H84.4316C85.285 17 85.955 17.1967 86.4416 17.59C86.935 17.9833 87.1816 18.5567 87.1816 19.31C87.1816 20.0567 86.9383 20.62 86.4516 21C85.965 21.3733 85.2916 21.56 84.4316 21.56H83.2416V23.75C83.2416 23.8233 83.215 23.8833 83.1616 23.93C83.115 23.9767 83.055 24 82.9816 24H81.6316ZM84.3816 20.18C84.675 20.18 84.905 20.1067 85.0716 19.96C85.2383 19.8067 85.3216 19.5833 85.3216 19.29C85.3216 19.0167 85.2416 18.8 85.0816 18.64C84.9283 18.4733 84.695 18.39 84.3816 18.39H83.2116V20.18H84.3816ZM88.3895 24C88.3228 24 88.2628 23.9767 88.2095 23.93C88.1628 23.8767 88.1395 23.8167 88.1395 23.75V17.25C88.1395 17.1767 88.1628 17.1167 88.2095 17.07C88.2628 17.0233 88.3228 17 88.3895 17H91.1095C91.9828 17 92.6628 17.2 93.1495 17.6C93.6428 17.9933 93.8895 18.5533 93.8895 19.28C93.8895 19.7467 93.7795 20.1433 93.5595 20.47C93.3395 20.7967 93.0361 21.0467 92.6495 21.22L94.0195 23.68C94.0395 23.72 94.0495 23.7567 94.0495 23.79C94.0495 23.8433 94.0261 23.8933 93.9795 23.94C93.9395 23.98 93.8928 24 93.8395 24H92.5095C92.3161 24 92.1795 23.91 92.0995 23.73L90.9595 21.53H89.9395V23.75C89.9395 23.8233 89.9128 23.8833 89.8595 23.93C89.8128 23.9767 89.7528 24 89.6795 24H88.3895ZM91.0895 20.11C91.3961 20.11 91.6295 20.0367 91.7895 19.89C91.9495 19.7367 92.0295 19.5267 92.0295 19.26C92.0295 18.9933 91.9495 18.7833 91.7895 18.63C91.6361 18.47 91.4028 18.39 91.0895 18.39H89.9395V20.11H91.0895ZM95.3035 24C95.2368 24 95.1768 23.9767 95.1235 23.93C95.0768 23.8767 95.0535 23.8167 95.0535 23.75V17.25C95.0535 17.1767 95.0768 17.1167 95.1235 17.07C95.1768 17.0233 95.2368 17 95.3035 17H99.9735C100.047 17 100.107 17.0233 100.154 17.07C100.2 17.1167 100.224 17.1767 100.224 17.25V18.19C100.224 18.2567 100.2 18.3167 100.154 18.37C100.107 18.4167 100.047 18.44 99.9735 18.44H96.7835V19.79H99.7535C99.8268 19.79 99.8868 19.8167 99.9335 19.87C99.9802 19.9167 100.004 19.9767 100.004 20.05V20.92C100.004 20.9867 99.9802 21.0467 99.9335 21.1C99.8868 21.1467 99.8268 21.17 99.7535 21.17H96.7835V22.56H100.054C100.127 22.56 100.187 22.5833 100.234 22.63C100.28 22.6767 100.304 22.7367 100.304 22.81V23.75C100.304 23.8167 100.28 23.8767 100.234 23.93C100.187 23.9767 100.127 24 100.054 24H95.3035ZM104.05 24.1C103.417 24.1 102.874 24.0067 102.42 23.82C101.967 23.6333 101.624 23.39 101.39 23.09C101.164 22.7833 101.044 22.45 101.03 22.09C101.03 22.0367 101.05 21.99 101.09 21.95C101.137 21.9033 101.19 21.88 101.25 21.88H102.51C102.59 21.88 102.654 21.8967 102.7 21.93C102.754 21.9567 102.807 22 102.86 22.06C102.947 22.2333 103.087 22.3767 103.28 22.49C103.474 22.6033 103.73 22.66 104.05 22.66C104.43 22.66 104.72 22.6 104.92 22.48C105.12 22.36 105.22 22.1967 105.22 21.99C105.22 21.8433 105.167 21.7233 105.06 21.63C104.96 21.5367 104.8 21.4533 104.58 21.38C104.36 21.3067 104.034 21.2233 103.6 21.13C102.8 20.9633 102.2 20.72 101.8 20.4C101.407 20.0733 101.21 19.61 101.21 19.01C101.21 18.6033 101.324 18.24 101.55 17.92C101.777 17.6 102.1 17.35 102.52 17.17C102.94 16.99 103.43 16.9 103.99 16.9C104.57 16.9 105.074 17 105.5 17.2C105.927 17.4 106.25 17.6533 106.47 17.96C106.697 18.26 106.817 18.5567 106.83 18.85C106.83 18.91 106.81 18.96 106.77 19C106.73 19.04 106.68 19.06 106.62 19.06H105.3C105.22 19.06 105.154 19.0467 105.1 19.02C105.054 18.9933 105.01 18.95 104.97 18.89C104.93 18.7367 104.82 18.6067 104.64 18.5C104.467 18.3933 104.25 18.34 103.99 18.34C103.69 18.34 103.46 18.3933 103.3 18.5C103.14 18.6067 103.06 18.7633 103.06 18.97C103.06 19.11 103.104 19.2267 103.19 19.32C103.284 19.4133 103.43 19.5 103.63 19.58C103.837 19.6533 104.13 19.73 104.51 19.81C105.13 19.9233 105.624 20.0667 105.99 20.24C106.364 20.4067 106.637 20.6267 106.81 20.9C106.984 21.1667 107.07 21.5033 107.07 21.91C107.07 22.3567 106.94 22.7467 106.68 23.08C106.427 23.4067 106.07 23.66 105.61 23.84C105.157 24.0133 104.637 24.1 104.05 24.1ZM110.681 24.1C110.048 24.1 109.504 24.0067 109.051 23.82C108.598 23.6333 108.254 23.39 108.021 23.09C107.794 22.7833 107.674 22.45 107.661 22.09C107.661 22.0367 107.681 21.99 107.721 21.95C107.768 21.9033 107.821 21.88 107.881 21.88H109.141C109.221 21.88 109.284 21.8967 109.331 21.93C109.384 21.9567 109.438 22 109.491 22.06C109.578 22.2333 109.718 22.3767 109.911 22.49C110.104 22.6033 110.361 22.66 110.681 22.66C111.061 22.66 111.351 22.6 111.551 22.48C111.751 22.36 111.851 22.1967 111.851 21.99C111.851 21.8433 111.798 21.7233 111.691 21.63C111.591 21.5367 111.431 21.4533 111.211 21.38C110.991 21.3067 110.664 21.2233 110.231 21.13C109.431 20.9633 108.831 20.72 108.431 20.4C108.038 20.0733 107.841 19.61 107.841 19.01C107.841 18.6033 107.954 18.24 108.181 17.92C108.408 17.6 108.731 17.35 109.151 17.17C109.571 16.99 110.061 16.9 110.621 16.9C111.201 16.9 111.704 17 112.131 17.2C112.558 17.4 112.881 17.6533 113.101 17.96C113.328 18.26 113.448 18.5567 113.461 18.85C113.461 18.91 113.441 18.96 113.401 19C113.361 19.04 113.311 19.06 113.251 19.06H111.931C111.851 19.06 111.784 19.0467 111.731 19.02C111.684 18.9933 111.641 18.95 111.601 18.89C111.561 18.7367 111.451 18.6067 111.271 18.5C111.098 18.3933 110.881 18.34 110.621 18.34C110.321 18.34 110.091 18.3933 109.931 18.5C109.771 18.6067 109.691 18.7633 109.691 18.97C109.691 19.11 109.734 19.2267 109.821 19.32C109.914 19.4133 110.061 19.5 110.261 19.58C110.468 19.6533 110.761 19.73 111.141 19.81C111.761 19.9233 112.254 20.0667 112.621 20.24C112.994 20.4067 113.268 20.6267 113.441 20.9C113.614 21.1667 113.701 21.5033 113.701 21.91C113.701 22.3567 113.571 22.7467 113.311 23.08C113.058 23.4067 112.701 23.66 112.241 23.84C111.788 24.0133 111.268 24.1 110.681 24.1Z" fill="black" />
            <path d="M94.76 46C94.6933 46 94.6367 45.98 94.59 45.94C94.55 45.8933 94.53 45.8367 94.53 45.77V40.17L92.87 41.45C92.8233 41.49 92.7733 41.51 92.72 41.51C92.66 41.51 92.6033 41.4767 92.55 41.41L92.29 41.08C92.2567 41.0333 92.24 40.9867 92.24 40.94C92.24 40.86 92.2733 40.7967 92.34 40.75L94.52 39.07C94.5933 39.0233 94.68 39 94.78 39H95.29C95.3567 39 95.41 39.0233 95.45 39.07C95.4967 39.11 95.52 39.1633 95.52 39.23V45.77C95.52 45.8367 95.4967 45.8933 95.45 45.94C95.41 45.98 95.3567 46 95.29 46H94.76ZM96.9973 46C96.9307 46 96.874 45.98 96.8273 45.94C96.7873 45.8933 96.7673 45.8367 96.7673 45.77V45.45C96.7673 45.2967 96.8507 45.15 97.0173 45.01L99.1373 42.89C99.6507 42.4633 100.004 42.1167 100.197 41.85C100.391 41.5767 100.487 41.29 100.487 40.99C100.487 40.6033 100.377 40.3 100.157 40.08C99.944 39.86 99.6307 39.75 99.2173 39.75C98.8307 39.75 98.5207 39.8667 98.2873 40.1C98.054 40.3267 97.9107 40.63 97.8573 41.01C97.844 41.09 97.8107 41.15 97.7573 41.19C97.7107 41.2233 97.6573 41.24 97.5973 41.24H97.0773C97.0173 41.24 96.9673 41.2233 96.9273 41.19C96.8873 41.15 96.8673 41.1033 96.8673 41.05C96.8807 40.69 96.9773 40.3467 97.1573 40.02C97.3373 39.6867 97.6007 39.4167 97.9473 39.21C98.3007 38.9967 98.724 38.89 99.2173 38.89C99.9707 38.89 100.537 39.0867 100.917 39.48C101.304 39.8667 101.497 40.36 101.497 40.96C101.497 41.38 101.391 41.76 101.177 42.1C100.971 42.4333 100.647 42.7933 100.207 43.18L98.2873 45.13H101.407C101.481 45.13 101.537 45.1533 101.577 45.2C101.624 45.24 101.647 45.2933 101.647 45.36V45.77C101.647 45.8367 101.624 45.8933 101.577 45.94C101.531 45.98 101.474 46 101.407 46H96.9973ZM105.126 46.1C104.6 46.1 104.143 46.0167 103.756 45.85C103.376 45.6767 103.086 45.4533 102.886 45.18C102.693 44.9067 102.59 44.62 102.576 44.32C102.576 44.26 102.596 44.2133 102.636 44.18C102.676 44.14 102.726 44.12 102.786 44.12H103.276C103.416 44.12 103.51 44.1933 103.556 44.34C103.643 44.6733 103.83 44.91 104.116 45.05C104.403 45.1833 104.74 45.25 105.126 45.25C105.6 45.25 105.976 45.14 106.256 44.92C106.536 44.6933 106.676 44.37 106.676 43.95C106.676 43.1433 106.186 42.74 105.206 42.74H104.256C104.19 42.74 104.133 42.72 104.086 42.68C104.046 42.6333 104.026 42.5767 104.026 42.51V42.24C104.026 42.1467 104.063 42.0567 104.136 41.97L106.076 39.85H103.126C103.06 39.85 103.003 39.83 102.956 39.79C102.916 39.7433 102.896 39.6867 102.896 39.62V39.24C102.896 39.1733 102.916 39.1167 102.956 39.07C103.003 39.0233 103.06 39 103.126 39H107.116C107.19 39 107.246 39.0233 107.286 39.07C107.333 39.11 107.356 39.1667 107.356 39.24V39.6C107.356 39.68 107.32 39.7567 107.246 39.83L105.316 41.98L105.476 41.99C106.156 42.01 106.693 42.1867 107.086 42.52C107.48 42.8533 107.676 43.34 107.676 43.98C107.676 44.4133 107.566 44.79 107.346 45.11C107.126 45.43 106.823 45.6767 106.436 45.85C106.05 46.0167 105.613 46.1 105.126 46.1ZM112.162 46C112.096 46 112.039 45.98 111.992 45.94C111.952 45.8933 111.932 45.8367 111.932 45.77V44.33H108.692C108.626 44.33 108.569 44.31 108.522 44.27C108.482 44.2233 108.462 44.1667 108.462 44.1V43.7C108.462 43.6 108.499 43.5 108.572 43.4L111.572 39.17C111.606 39.1167 111.656 39.0767 111.722 39.05C111.789 39.0167 111.862 39 111.942 39H112.662C112.729 39 112.782 39.0233 112.822 39.07C112.869 39.11 112.892 39.1633 112.892 39.23V43.46H113.792C113.859 43.46 113.916 43.4833 113.962 43.53C114.009 43.57 114.032 43.6233 114.032 43.69V44.1C114.032 44.1667 114.009 44.2233 113.962 44.27C113.922 44.31 113.869 44.33 113.802 44.33H112.892V45.77C112.892 45.8367 112.869 45.8933 112.822 45.94C112.782 45.98 112.729 46 112.662 46H112.162ZM111.942 43.48V40.05L109.532 43.48H111.942Z" fill="black" />
            <path d="M14.98 62.1C14.4533 62.1 13.9967 62.0167 13.61 61.85C13.23 61.6767 12.94 61.4533 12.74 61.18C12.5467 60.9067 12.4433 60.62 12.43 60.32C12.43 60.26 12.45 60.2133 12.49 60.18C12.53 60.14 12.58 60.12 12.64 60.12H13.13C13.27 60.12 13.3633 60.1933 13.41 60.34C13.4967 60.6733 13.6833 60.91 13.97 61.05C14.2567 61.1833 14.5933 61.25 14.98 61.25C15.4533 61.25 15.83 61.14 16.11 60.92C16.39 60.6933 16.53 60.37 16.53 59.95C16.53 59.1433 16.04 58.74 15.06 58.74H14.11C14.0433 58.74 13.9867 58.72 13.94 58.68C13.9 58.6333 13.88 58.5767 13.88 58.51V58.24C13.88 58.1467 13.9167 58.0567 13.99 57.97L15.93 55.85H12.98C12.9133 55.85 12.8567 55.83 12.81 55.79C12.77 55.7433 12.75 55.6867 12.75 55.62V55.24C12.75 55.1733 12.77 55.1167 12.81 55.07C12.8567 55.0233 12.9133 55 12.98 55H16.97C17.0433 55 17.1 55.0233 17.14 55.07C17.1867 55.11 17.21 55.1667 17.21 55.24V55.6C17.21 55.68 17.1733 55.7567 17.1 55.83L15.17 57.98L15.33 57.99C16.01 58.01 16.5467 58.1867 16.94 58.52C17.3333 58.8533 17.53 59.34 17.53 59.98C17.53 60.4133 17.42 60.79 17.2 61.11C16.98 61.43 16.6767 61.6767 16.29 61.85C15.9033 62.0167 15.4667 62.1 14.98 62.1ZM20.9859 62.1C20.4592 62.1 20.0025 62.0167 19.6159 61.85C19.2359 61.6767 18.9459 61.4533 18.7459 61.18C18.5525 60.9067 18.4492 60.62 18.4359 60.32C18.4359 60.26 18.4559 60.2133 18.4959 60.18C18.5359 60.14 18.5859 60.12 18.6459 60.12H19.1359C19.2759 60.12 19.3692 60.1933 19.4159 60.34C19.5025 60.6733 19.6892 60.91 19.9759 61.05C20.2625 61.1833 20.5992 61.25 20.9859 61.25C21.4592 61.25 21.8359 61.14 22.1159 60.92C22.3959 60.6933 22.5359 60.37 22.5359 59.95C22.5359 59.1433 22.0459 58.74 21.0659 58.74H20.1159C20.0492 58.74 19.9925 58.72 19.9459 58.68C19.9059 58.6333 19.8859 58.5767 19.8859 58.51V58.24C19.8859 58.1467 19.9225 58.0567 19.9959 57.97L21.9359 55.85H18.9859C18.9192 55.85 18.8625 55.83 18.8159 55.79C18.7759 55.7433 18.7559 55.6867 18.7559 55.62V55.24C18.7559 55.1733 18.7759 55.1167 18.8159 55.07C18.8625 55.0233 18.9192 55 18.9859 55H22.9759C23.0492 55 23.1059 55.0233 23.1459 55.07C23.1925 55.11 23.2159 55.1667 23.2159 55.24V55.6C23.2159 55.68 23.1792 55.7567 23.1059 55.83L21.1759 57.98L21.3359 57.99C22.0159 58.01 22.5525 58.1867 22.9459 58.52C23.3392 58.8533 23.5359 59.34 23.5359 59.98C23.5359 60.4133 23.4259 60.79 23.2059 61.11C22.9859 61.43 22.6825 61.6767 22.2959 61.85C21.9092 62.0167 21.4725 62.1 20.9859 62.1ZM26.9917 62.1C26.4651 62.1 26.0084 62.0167 25.6217 61.85C25.2417 61.6767 24.9517 61.4533 24.7517 61.18C24.5584 60.9067 24.4551 60.62 24.4417 60.32C24.4417 60.26 24.4617 60.2133 24.5017 60.18C24.5417 60.14 24.5917 60.12 24.6517 60.12H25.1417C25.2817 60.12 25.3751 60.1933 25.4217 60.34C25.5084 60.6733 25.6951 60.91 25.9817 61.05C26.2684 61.1833 26.6051 61.25 26.9917 61.25C27.4651 61.25 27.8417 61.14 28.1217 60.92C28.4017 60.6933 28.5417 60.37 28.5417 59.95C28.5417 59.1433 28.0517 58.74 27.0717 58.74H26.1217C26.0551 58.74 25.9984 58.72 25.9517 58.68C25.9117 58.6333 25.8917 58.5767 25.8917 58.51V58.24C25.8917 58.1467 25.9284 58.0567 26.0017 57.97L27.9417 55.85H24.9917C24.9251 55.85 24.8684 55.83 24.8217 55.79C24.7817 55.7433 24.7617 55.6867 24.7617 55.62V55.24C24.7617 55.1733 24.7817 55.1167 24.8217 55.07C24.8684 55.0233 24.9251 55 24.9917 55H28.9817C29.0551 55 29.1117 55.0233 29.1517 55.07C29.1984 55.11 29.2217 55.1667 29.2217 55.24V55.6C29.2217 55.68 29.1851 55.7567 29.1117 55.83L27.1817 57.98L27.3417 57.99C28.0217 58.01 28.5584 58.1867 28.9517 58.52C29.3451 58.8533 29.5417 59.34 29.5417 59.98C29.5417 60.4133 29.4317 60.79 29.2117 61.11C28.9917 61.43 28.6884 61.6767 28.3017 61.85C27.9151 62.0167 27.4784 62.1 26.9917 62.1ZM32.9976 62.1C32.4709 62.1 32.0142 62.0167 31.6276 61.85C31.2476 61.6767 30.9576 61.4533 30.7576 61.18C30.5642 60.9067 30.4609 60.62 30.4476 60.32C30.4476 60.26 30.4676 60.2133 30.5076 60.18C30.5476 60.14 30.5976 60.12 30.6576 60.12H31.1476C31.2876 60.12 31.3809 60.1933 31.4276 60.34C31.5142 60.6733 31.7009 60.91 31.9876 61.05C32.2742 61.1833 32.6109 61.25 32.9976 61.25C33.4709 61.25 33.8476 61.14 34.1276 60.92C34.4076 60.6933 34.5476 60.37 34.5476 59.95C34.5476 59.1433 34.0576 58.74 33.0776 58.74H32.1276C32.0609 58.74 32.0042 58.72 31.9576 58.68C31.9176 58.6333 31.8976 58.5767 31.8976 58.51V58.24C31.8976 58.1467 31.9342 58.0567 32.0076 57.97L33.9476 55.85H30.9976C30.9309 55.85 30.8742 55.83 30.8276 55.79C30.7876 55.7433 30.7676 55.6867 30.7676 55.62V55.24C30.7676 55.1733 30.7876 55.1167 30.8276 55.07C30.8742 55.0233 30.9309 55 30.9976 55H34.9876C35.0609 55 35.1176 55.0233 35.1576 55.07C35.2042 55.11 35.2276 55.1667 35.2276 55.24V55.6C35.2276 55.68 35.1909 55.7567 35.1176 55.83L33.1876 57.98L33.3476 57.99C34.0276 58.01 34.5642 58.1867 34.9576 58.52C35.3509 58.8533 35.5476 59.34 35.5476 59.98C35.5476 60.4133 35.4376 60.79 35.2176 61.11C34.9976 61.43 34.6942 61.6767 34.3076 61.85C33.9209 62.0167 33.4842 62.1 32.9976 62.1ZM43.6858 62C43.6191 62 43.5624 61.98 43.5158 61.94C43.4758 61.8933 43.4558 61.8367 43.4558 61.77V56.17L41.7958 57.45C41.7491 57.49 41.6991 57.51 41.6458 57.51C41.5858 57.51 41.5291 57.4767 41.4758 57.41L41.2158 57.08C41.1824 57.0333 41.1658 56.9867 41.1658 56.94C41.1658 56.86 41.1991 56.7967 41.2658 56.75L43.4458 55.07C43.5191 55.0233 43.6058 55 43.7058 55H44.2158C44.2824 55 44.3358 55.0233 44.3758 55.07C44.4224 55.11 44.4458 55.1633 44.4458 55.23V61.77C44.4458 61.8367 44.4224 61.8933 44.3758 61.94C44.3358 61.98 44.2824 62 44.2158 62H43.6858ZM45.9231 62C45.8565 62 45.7998 61.98 45.7531 61.94C45.7131 61.8933 45.6931 61.8367 45.6931 61.77V61.45C45.6931 61.2967 45.7765 61.15 45.9431 61.01L48.0631 58.89C48.5765 58.4633 48.9298 58.1167 49.1231 57.85C49.3165 57.5767 49.4131 57.29 49.4131 56.99C49.4131 56.6033 49.3031 56.3 49.0831 56.08C48.8698 55.86 48.5565 55.75 48.1431 55.75C47.7565 55.75 47.4465 55.8667 47.2131 56.1C46.9798 56.3267 46.8365 56.63 46.7831 57.01C46.7698 57.09 46.7365 57.15 46.6831 57.19C46.6365 57.2233 46.5831 57.24 46.5231 57.24H46.0031C45.9431 57.24 45.8931 57.2233 45.8531 57.19C45.8131 57.15 45.7931 57.1033 45.7931 57.05C45.8065 56.69 45.9031 56.3467 46.0831 56.02C46.2631 55.6867 46.5265 55.4167 46.8731 55.21C47.2265 54.9967 47.6498 54.89 48.1431 54.89C48.8965 54.89 49.4631 55.0867 49.8431 55.48C50.2298 55.8667 50.4231 56.36 50.4231 56.96C50.4231 57.38 50.3165 57.76 50.1031 58.1C49.8965 58.4333 49.5731 58.7933 49.1331 59.18L47.2131 61.13H50.3331C50.4065 61.13 50.4631 61.1533 50.5031 61.2C50.5498 61.24 50.5731 61.2933 50.5731 61.36V61.77C50.5731 61.8367 50.5498 61.8933 50.5031 61.94C50.4565 61.98 50.3998 62 50.3331 62H45.9231ZM54.0523 62.1C53.5256 62.1 53.0689 62.0167 52.6823 61.85C52.3023 61.6767 52.0123 61.4533 51.8123 61.18C51.6189 60.9067 51.5156 60.62 51.5023 60.32C51.5023 60.26 51.5223 60.2133 51.5623 60.18C51.6023 60.14 51.6523 60.12 51.7123 60.12H52.2023C52.3423 60.12 52.4356 60.1933 52.4823 60.34C52.5689 60.6733 52.7556 60.91 53.0423 61.05C53.3289 61.1833 53.6656 61.25 54.0523 61.25C54.5256 61.25 54.9023 61.14 55.1823 60.92C55.4623 60.6933 55.6023 60.37 55.6023 59.95C55.6023 59.1433 55.1123 58.74 54.1323 58.74H53.1823C53.1156 58.74 53.0589 58.72 53.0123 58.68C52.9723 58.6333 52.9523 58.5767 52.9523 58.51V58.24C52.9523 58.1467 52.9889 58.0567 53.0623 57.97L55.0023 55.85H52.0523C51.9856 55.85 51.9289 55.83 51.8823 55.79C51.8423 55.7433 51.8223 55.6867 51.8223 55.62V55.24C51.8223 55.1733 51.8423 55.1167 51.8823 55.07C51.9289 55.0233 51.9856 55 52.0523 55H56.0423C56.1156 55 56.1723 55.0233 56.2123 55.07C56.2589 55.11 56.2823 55.1667 56.2823 55.24V55.6C56.2823 55.68 56.2456 55.7567 56.1723 55.83L54.2423 57.98L54.4023 57.99C55.0823 58.01 55.6189 58.1867 56.0123 58.52C56.4056 58.8533 56.6023 59.34 56.6023 59.98C56.6023 60.4133 56.4923 60.79 56.2723 61.11C56.0523 61.43 55.7489 61.6767 55.3623 61.85C54.9756 62.0167 54.5389 62.1 54.0523 62.1ZM61.0881 62C61.0215 62 60.9648 61.98 60.9181 61.94C60.8781 61.8933 60.8581 61.8367 60.8581 61.77V60.33H57.6181C57.5515 60.33 57.4948 60.31 57.4481 60.27C57.4081 60.2233 57.3881 60.1667 57.3881 60.1V59.7C57.3881 59.6 57.4248 59.5 57.4981 59.4L60.4981 55.17C60.5315 55.1167 60.5815 55.0767 60.6481 55.05C60.7148 55.0167 60.7881 55 60.8681 55H61.5881C61.6548 55 61.7081 55.0233 61.7481 55.07C61.7948 55.11 61.8181 55.1633 61.8181 55.23V59.46H62.7181C62.7848 59.46 62.8415 59.4833 62.8881 59.53C62.9348 59.57 62.9581 59.6233 62.9581 59.69V60.1C62.9581 60.1667 62.9348 60.2233 62.8881 60.27C62.8481 60.31 62.7948 60.33 62.7281 60.33H61.8181V61.77C61.8181 61.8367 61.7948 61.8933 61.7481 61.94C61.7081 61.98 61.6548 62 61.5881 62H61.0881ZM60.8681 59.48V56.05L58.4581 59.48H60.8681ZM67.2991 62C67.2324 62 67.1757 61.98 67.1291 61.94C67.0891 61.8933 67.0691 61.8367 67.0691 61.77V60.33H63.8291C63.7624 60.33 63.7057 60.31 63.6591 60.27C63.6191 60.2233 63.5991 60.1667 63.5991 60.1V59.7C63.5991 59.6 63.6357 59.5 63.7091 59.4L66.7091 55.17C66.7424 55.1167 66.7924 55.0767 66.8591 55.05C66.9257 55.0167 66.9991 55 67.0791 55H67.7991C67.8657 55 67.9191 55.0233 67.9591 55.07C68.0057 55.11 68.0291 55.1633 68.0291 55.23V59.46H68.9291C68.9957 59.46 69.0524 59.4833 69.0991 59.53C69.1457 59.57 69.1691 59.6233 69.1691 59.69V60.1C69.1691 60.1667 69.1457 60.2233 69.0991 60.27C69.0591 60.31 69.0057 60.33 68.9391 60.33H68.0291V61.77C68.0291 61.8367 68.0057 61.8933 67.9591 61.94C67.9191 61.98 67.8657 62 67.7991 62H67.2991ZM67.0791 59.48V56.05L64.6691 59.48H67.0791ZM72.58 62.1C72.0467 62.1 71.5833 61.9933 71.19 61.78C70.7967 61.56 70.4967 61.2667 70.29 60.9C70.0833 60.5333 69.98 60.1333 69.98 59.7C69.98 59.3467 70.05 59.0133 70.19 58.7C70.3367 58.38 70.5 58.0967 70.68 57.85L72.58 55.2C72.5867 55.1933 72.6067 55.17 72.64 55.13C72.6667 55.09 72.7033 55.06 72.75 55.04C72.7967 55.0133 72.85 55 72.91 55H73.44C73.5 55 73.5467 55.0233 73.58 55.07C73.62 55.11 73.64 55.16 73.64 55.22C73.64 55.2667 73.6267 55.31 73.6 55.35L72.14 57.39C72.2867 57.3433 72.4767 57.32 72.71 57.32C73.19 57.3267 73.6133 57.4367 73.98 57.65C74.3533 57.8633 74.64 58.15 74.84 58.51C75.0467 58.87 75.15 59.2633 75.15 59.69C75.15 60.1167 75.0467 60.5167 74.84 60.89C74.64 61.2567 74.3433 61.55 73.95 61.77C73.5633 61.99 73.1067 62.1 72.58 62.1ZM72.57 61.25C72.8567 61.25 73.12 61.19 73.36 61.07C73.6067 60.95 73.8 60.7733 73.94 60.54C74.0867 60.3 74.16 60.0167 74.16 59.69C74.16 59.37 74.0867 59.0933 73.94 58.86C73.8 58.6267 73.6067 58.45 73.36 58.33C73.12 58.21 72.8567 58.15 72.57 58.15C72.29 58.15 72.0267 58.21 71.78 58.33C71.54 58.45 71.3467 58.6267 71.2 58.86C71.0533 59.0933 70.98 59.37 70.98 59.69C70.98 60.0167 71.0533 60.3 71.2 60.54C71.3467 60.7733 71.54 60.95 71.78 61.07C72.02 61.19 72.2833 61.25 72.57 61.25ZM86.0589 62.1C85.5389 62.1 85.0822 62.0167 84.6889 61.85C84.2956 61.6767 83.9889 61.43 83.7689 61.11C83.5489 60.79 83.4389 60.4167 83.4389 59.99C83.4389 59.5967 83.5356 59.2533 83.7289 58.96C83.9222 58.66 84.1856 58.43 84.5189 58.27C84.2522 58.1167 84.0456 57.9167 83.8989 57.67C83.7589 57.4167 83.6889 57.1233 83.6889 56.79C83.6889 56.2033 83.9022 55.7433 84.3289 55.41C84.7622 55.07 85.3389 54.9 86.0589 54.9C86.7722 54.9 87.3422 55.07 87.7689 55.41C88.2022 55.7433 88.4189 56.2 88.4189 56.78C88.4189 57.1133 88.3456 57.4067 88.1989 57.66C88.0589 57.9067 87.8589 58.11 87.5989 58.27C87.9322 58.43 88.1956 58.66 88.3889 58.96C88.5822 59.2533 88.6789 59.5967 88.6789 59.99C88.6789 60.4167 88.5689 60.79 88.3489 61.11C88.1289 61.43 87.8189 61.6767 87.4189 61.85C87.0256 62.0167 86.5722 62.1 86.0589 62.1ZM86.0589 57.91C86.4589 57.9033 86.7956 57.8 87.0689 57.6C87.3422 57.4 87.4789 57.1367 87.4789 56.81C87.4789 56.4767 87.3422 56.21 87.0689 56.01C86.8022 55.8033 86.4656 55.7 86.0589 55.7C85.6456 55.7 85.3022 55.8 85.0289 56C84.7622 56.2 84.6289 56.47 84.6289 56.81C84.6289 57.1433 84.7622 57.41 85.0289 57.61C85.3022 57.81 85.6456 57.91 86.0589 57.91ZM86.0589 61.3C86.5256 61.3 86.9156 61.18 87.2289 60.94C87.5422 60.7 87.6989 60.3833 87.6989 59.99C87.6989 59.5967 87.5422 59.2833 87.2289 59.05C86.9156 58.8167 86.5256 58.7 86.0589 58.7C85.5856 58.7 85.1922 58.8167 84.8789 59.05C84.5656 59.2833 84.4089 59.5967 84.4089 59.99C84.4089 60.3833 84.5656 60.7 84.8789 60.94C85.1922 61.18 85.5856 61.3 86.0589 61.3ZM91.1663 62C91.1063 62 91.0563 61.98 91.0163 61.94C90.983 61.8933 90.9663 61.84 90.9663 61.78C90.9663 61.7333 90.9797 61.69 91.0063 61.65L92.5363 59.52C92.3763 59.56 92.1963 59.58 91.9963 59.58C91.523 59.5733 91.103 59.4633 90.7363 59.25C90.3763 59.0367 90.0997 58.7533 89.9063 58.4C89.713 58.0467 89.6163 57.67 89.6163 57.27C89.6163 56.87 89.7097 56.49 89.8963 56.13C90.0897 55.7633 90.3763 55.4667 90.7563 55.24C91.1363 55.0133 91.5963 54.9 92.1363 54.9C92.6763 54.9 93.1363 55.01 93.5163 55.23C93.903 55.45 94.193 55.74 94.3863 56.1C94.5797 56.46 94.6763 56.8433 94.6763 57.25C94.6763 57.61 94.613 57.93 94.4863 58.21C94.3597 58.4833 94.183 58.7833 93.9563 59.11L92.0263 61.8C91.9797 61.86 91.933 61.91 91.8863 61.95C91.8463 61.9833 91.7863 62 91.7063 62H91.1663ZM92.1363 58.77C92.4163 58.77 92.673 58.71 92.9063 58.59C93.1463 58.4633 93.3363 58.2867 93.4763 58.06C93.6163 57.8267 93.6863 57.56 93.6863 57.26C93.6863 56.96 93.6163 56.6967 93.4763 56.47C93.3363 56.2367 93.1463 56.06 92.9063 55.94C92.673 55.8133 92.4163 55.75 92.1363 55.75C91.8563 55.75 91.5997 55.8133 91.3663 55.94C91.133 56.06 90.9463 56.2367 90.8063 56.47C90.673 56.6967 90.6063 56.96 90.6063 57.26C90.6063 57.56 90.673 57.8267 90.8063 58.06C90.9463 58.2867 91.133 58.4633 91.3663 58.59C91.5997 58.71 91.8563 58.77 92.1363 58.77ZM97.0941 62C97.0341 62 96.9841 61.98 96.9441 61.94C96.9107 61.8933 96.8941 61.84 96.8941 61.78C96.8941 61.7333 96.9074 61.69 96.9341 61.65L98.4641 59.52C98.3041 59.56 98.1241 59.58 97.9241 59.58C97.4507 59.5733 97.0307 59.4633 96.6641 59.25C96.3041 59.0367 96.0274 58.7533 95.8341 58.4C95.6407 58.0467 95.5441 57.67 95.5441 57.27C95.5441 56.87 95.6374 56.49 95.8241 56.13C96.0174 55.7633 96.3041 55.4667 96.6841 55.24C97.0641 55.0133 97.5241 54.9 98.0641 54.9C98.6041 54.9 99.0641 55.01 99.4441 55.23C99.8307 55.45 100.121 55.74 100.314 56.1C100.507 56.46 100.604 56.8433 100.604 57.25C100.604 57.61 100.541 57.93 100.414 58.21C100.287 58.4833 100.111 58.7833 99.8841 59.11L97.9541 61.8C97.9074 61.86 97.8607 61.91 97.8141 61.95C97.7741 61.9833 97.7141 62 97.6341 62H97.0941ZM98.0641 58.77C98.3441 58.77 98.6007 58.71 98.8341 58.59C99.0741 58.4633 99.2641 58.2867 99.4041 58.06C99.5441 57.8267 99.6141 57.56 99.6141 57.26C99.6141 56.96 99.5441 56.6967 99.4041 56.47C99.2641 56.2367 99.0741 56.06 98.8341 55.94C98.6007 55.8133 98.3441 55.75 98.0641 55.75C97.7841 55.75 97.5274 55.8133 97.2941 55.94C97.0607 56.06 96.8741 56.2367 96.7341 56.47C96.6007 56.6967 96.5341 56.96 96.5341 57.26C96.5341 57.56 96.6007 57.8267 96.7341 58.06C96.8741 58.2867 97.0607 58.4633 97.2941 58.59C97.5274 58.71 97.7841 58.77 98.0641 58.77ZM103.022 62C102.962 62 102.912 61.98 102.872 61.94C102.838 61.8933 102.822 61.84 102.822 61.78C102.822 61.7333 102.835 61.69 102.862 61.65L104.392 59.52C104.232 59.56 104.052 59.58 103.852 59.58C103.378 59.5733 102.958 59.4633 102.592 59.25C102.232 59.0367 101.955 58.7533 101.762 58.4C101.568 58.0467 101.472 57.67 101.472 57.27C101.472 56.87 101.565 56.49 101.752 56.13C101.945 55.7633 102.232 55.4667 102.612 55.24C102.992 55.0133 103.452 54.9 103.992 54.9C104.532 54.9 104.992 55.01 105.372 55.23C105.758 55.45 106.048 55.74 106.242 56.1C106.435 56.46 106.532 56.8433 106.532 57.25C106.532 57.61 106.468 57.93 106.342 58.21C106.215 58.4833 106.038 58.7833 105.812 59.11L103.882 61.8C103.835 61.86 103.788 61.91 103.742 61.95C103.702 61.9833 103.642 62 103.562 62H103.022ZM103.992 58.77C104.272 58.77 104.528 58.71 104.762 58.59C105.002 58.4633 105.192 58.2867 105.332 58.06C105.472 57.8267 105.542 57.56 105.542 57.26C105.542 56.96 105.472 56.6967 105.332 56.47C105.192 56.2367 105.002 56.06 104.762 55.94C104.528 55.8133 104.272 55.75 103.992 55.75C103.712 55.75 103.455 55.8133 103.222 55.94C102.988 56.06 102.802 56.2367 102.662 56.47C102.528 56.6967 102.462 56.96 102.462 57.26C102.462 57.56 102.528 57.8267 102.662 58.06C102.802 58.2867 102.988 58.4633 103.222 58.59C103.455 58.71 103.712 58.77 103.992 58.77ZM108.95 62C108.89 62 108.84 61.98 108.8 61.94C108.766 61.8933 108.75 61.84 108.75 61.78C108.75 61.7333 108.763 61.69 108.79 61.65L110.32 59.52C110.16 59.56 109.98 59.58 109.78 59.58C109.306 59.5733 108.886 59.4633 108.52 59.25C108.16 59.0367 107.883 58.7533 107.69 58.4C107.496 58.0467 107.4 57.67 107.4 57.27C107.4 56.87 107.493 56.49 107.68 56.13C107.873 55.7633 108.16 55.4667 108.54 55.24C108.92 55.0133 109.38 54.9 109.92 54.9C110.46 54.9 110.92 55.01 111.3 55.23C111.686 55.45 111.976 55.74 112.17 56.1C112.363 56.46 112.46 56.8433 112.46 57.25C112.46 57.61 112.396 57.93 112.27 58.21C112.143 58.4833 111.966 58.7833 111.74 59.11L109.81 61.8C109.763 61.86 109.716 61.91 109.67 61.95C109.63 61.9833 109.57 62 109.49 62H108.95ZM109.92 58.77C110.2 58.77 110.456 58.71 110.69 58.59C110.93 58.4633 111.12 58.2867 111.26 58.06C111.4 57.8267 111.47 57.56 111.47 57.26C111.47 56.96 111.4 56.6967 111.26 56.47C111.12 56.2367 110.93 56.06 110.69 55.94C110.456 55.8133 110.2 55.75 109.92 55.75C109.64 55.75 109.383 55.8133 109.15 55.94C108.916 56.06 108.73 56.2367 108.59 56.47C108.456 56.6967 108.39 56.96 108.39 57.26C108.39 57.56 108.456 57.8267 108.59 58.06C108.73 58.2867 108.916 58.4633 109.15 58.59C109.383 58.71 109.64 58.77 109.92 58.77Z" fill="black" />
            <rect x="88.5" y="35.5" width="28" height="13" stroke="#FF4F48" />
            <defs>
                <filter id="filter0_d" x="0" y="0" width="127" height="78" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                    <feFlood flood-opacity="0" result="BackgroundImageFix" />
                    <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" />
                    <feOffset dy="2" />
                    <feGaussianBlur stdDeviation="0.5" />
                    <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.5 0" />
                    <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow" />
                    <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape" />
                </filter>
            </defs>
        </svg>

    )
}

const PaymentInfo = (props) => {
    if (props.progress === 2 && props.paymentType === 'card') {
        return (
            <Elements stripe={props.stripePubKey} options={elementOptions}>
                <PaymentForm progress={props.progress} reverseForm={props.reverseForm} handleCardInfo={props.handleCardInfo} />
            </Elements>
        )
    } else if (props.progress === 2 && props.paymentType === 'crypto') {
        return (
            <CryptoForm
                progress={props.progress}
                handleCryptoTransactionInfo={props.handleCryptoTransactionInfo}
                totalCost={props.totalCost}
                reverseForm={props.reverseForm}
                sysControl={props.sysControl}
                fileManage={props.fileManage}
                recertFee={props.recertFee}
                underTwoAcres={props.underTwoAcres}
                overTwoAcres={props.overTwoAcres}>
            </CryptoForm>
        );
    } else {
        return null;
    }

}

export default PaymentInfo;
